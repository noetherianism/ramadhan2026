<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
  <meta name="description" content="Jadwal Menu Buka Puasa Masjid Jogja — Ramadan 1447 H / 2026 M">
  <meta name="theme-color" content="#0C3328" id="themeColor">
  <title>Jadwal Buka Puasa Masjid Jogja — Ramadan 1447 H</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Amiri:ital,wght@0,400;0,700;1,400&family=DM+Sans:opsz,wght@9..40,300;9..40,400;9..40,500;9..40,600;9..40,700&display=swap" rel="stylesheet">

  <link rel="manifest" href="/manifest.json">
  <link rel="apple-touch-icon" href="/icons/apple-touch-icon.png">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

  <link rel="stylesheet" href="css/style.css">
</head>
<body>

  <!-- LOADING / SKELETON SCREEN -->
  <div class="loading-screen" id="loadingScreen" aria-live="polite">
    <div class="loading-content">
      <svg class="loading-moon" width="56" height="56" viewBox="0 0 80 80" fill="none" xmlns="http://www.w3.org/2000/svg" style="max-width:56px;max-height:56px">
        <path d="M55 40C55 55.5 44 68 30 68C16 68 5 55.5 5 40C5 24.5 16 12 30 12C24 18 21 28.5 21 40C21 51.5 24 62 30 68C44 68 55 24.5 55 40Z" fill="#E8C96A" opacity="0.9"/>
        <circle cx="62" cy="22" r="4" fill="#F0D88A" opacity="0.7"/>
        <circle cx="70" cy="35" r="2.5" fill="#F0D88A" opacity="0.5"/>
      </svg>
      <span class="loading-text">Memuat jadwal…</span>
      <div class="skeleton-preview">
        <div class="skel-bar long"></div>
        <div class="skel-bar short"></div>
        <div class="skel-grid">
          <div class="skel-card"><div class="skel-line w60"></div><div class="skel-line w40"></div><div class="skel-line w80"></div></div>
          <div class="skel-card"><div class="skel-line w60"></div><div class="skel-line w40"></div><div class="skel-line w80"></div></div>
          <div class="skel-card"><div class="skel-line w60"></div><div class="skel-line w40"></div><div class="skel-line w80"></div></div>
        </div>
      </div>
    </div>
  </div>

  <!-- PULL-TO-REFRESH -->
  <div class="ptr" id="ptr" aria-hidden="true" style="height:0;overflow:hidden">
    <svg class="ptr-icon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5">
      <path d="M21 12a9 9 0 11-6.219-8.56"/>
    </svg>
    <span class="ptr-text">Tarik untuk memuat ulang</span>
  </div>

  <!-- HEADER -->
  <header class="header" role="banner">
    <div class="header-bg" aria-hidden="true"></div>
    <div class="header-pattern" aria-hidden="true"></div>
    <div class="stars" id="stars" aria-hidden="true"></div>

    <div class="header-inner">
      <svg class="moon-svg" width="56" height="56" viewBox="0 0 80 80" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
        <path d="M55 40C55 55.5 44 68 30 68C16 68 5 55.5 5 40C5 24.5 16 12 30 12C24 18 21 28.5 21 40C21 51.5 24 62 30 68C44 68 55 24.5 55 40Z" fill="#E8C96A" opacity="0.9"/>
        <circle cx="62" cy="22" r="4" fill="#F0D88A" opacity="0.7"/>
        <circle cx="70" cy="35" r="2.5" fill="#F0D88A" opacity="0.5"/>
        <circle cx="58" cy="42" r="1.5" fill="#F0D88A" opacity="0.35"/>
      </svg>
      <h1>Jadwal Menu Buka Puasa<br>Masjid Jogja</h1>
      <p class="header-sub">Ramadan 1447 H &bull; 2026 M &bull; Yogyakarta</p>
    </div>

    <div class="header-wave" aria-hidden="true">
      <svg viewBox="0 0 1440 50" fill="none" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="none">
        <path d="M0 50 L0 25 Q360 0 720 25 Q1080 50 1440 20 L1440 50 Z" fill="var(--cream)"/>
      </svg>
    </div>
  </header>

  <!-- DATE NAVIGATOR -->
  <nav class="date-nav-wrap" role="navigation" aria-label="Navigasi tanggal Ramadan">
    <div class="date-strip-outer">
      <div class="date-strip" id="dateStrip" role="list"></div>
    </div>
    <button class="dark-toggle" id="darkToggle" onclick="toggleDarkMode()" aria-label="Mode gelap/terang" title="Mode Gelap/Terang">
      <svg class="dt-sun" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="5"/><path d="M12 1v2m0 18v2M4.22 4.22l1.42 1.42m12.73 12.73l1.42 1.42M1 12h2m18 0h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"/></svg>
      <svg class="dt-moon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
    </button>
  </nav>

  <!-- MAIN -->
  <main class="main" id="main" role="main">

    <!-- Search Bar -->
    <div class="search-bar" role="search">
      <svg width="16" height="16" fill="none" stroke="currentColor" stroke-width="2.5" viewBox="0 0 24 24" aria-hidden="true">
        <circle cx="11" cy="11" r="8"/><path d="m21 21-4.35-4.35"/>
      </svg>
      <input type="search" id="searchInput" placeholder="Cari menu atau nama masjid…" autocomplete="off" aria-label="Cari menu atau nama masjid">
      <button id="searchClear" class="search-clear" onclick="clearSearch()" aria-label="Hapus pencarian" title="Hapus">✕</button>
    </div>

    <!-- Filter Chips -->
    <div class="filter-row" id="filterRow">
      <button class="filter-chip active" data-filter="all">Semua</button>
      <button class="filter-chip" data-filter="favorites">
        <svg width="12" height="12" fill="currentColor" viewBox="0 0 24 24"><path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"/></svg>
        Favorit
      </button>
      <!-- Kecamatan chips added by JS -->
    </div>

    <!-- Day Navigation -->
    <div class="day-nav" id="dayNav" role="navigation" aria-label="Pindah hari">
      <button class="nav-btn" id="prevBtn" onclick="changeDay(-1)" aria-label="Hari sebelumnya" title="Hari sebelumnya (←)">
        <svg width="18" height="18" fill="none" stroke="currentColor" stroke-width="2.5" viewBox="0 0 24 24"><path d="M15 18l-6-6 6-6"/></svg>
      </button>
      <span class="nav-label" id="navLabel" aria-live="polite"></span>
      <button class="nav-btn" id="nextBtn" onclick="changeDay(1)" aria-label="Hari berikutnya" title="Hari berikutnya (→)">
        <svg width="18" height="18" fill="none" stroke="currentColor" stroke-width="2.5" viewBox="0 0 24 24"><path d="M9 18l6-6-6-6"/></svg>
      </button>
    </div>

    <!-- Content Area -->
    <section id="contentArea" aria-live="polite" aria-atomic="false"></section>

  </main>

  <!-- BOTTOM NAVIGATION -->
  <nav class="bottom-nav" id="bottomNav" role="navigation" aria-label="Menu utama">
    <button class="bnav-item active" data-tab="jadwal" onclick="switchTab('jadwal', this)" aria-label="Jadwal">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8"><rect x="3" y="4" width="18" height="18" rx="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>
      <span>Jadwal</span>
    </button>
    <button class="bnav-item" data-tab="masjid" onclick="switchTab('masjid', this)" aria-label="Masjid">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8"><path d="M12 3c-2 2-4 4.5-4 7a4 4 0 008 0c0-2.5-2-5-4-7z"/><path d="M5 14h14v7H5z"/><line x1="5" y1="21" x2="19" y2="21"/><line x1="12" y1="10" x2="12" y2="14"/></svg>
      <span>Masjid</span>
    </button>
    <button class="bnav-item" data-tab="favorit" onclick="switchTab('favorit', this)" aria-label="Favorit">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8"><path d="M20.84 4.61a5.5 5.5 0 00-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 00-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 000-7.78z"/></svg>
      <span>Favorit</span>
      <span class="bnav-badge" id="favBadge" style="display:none"></span>
    </button>
  </nav>

  <!-- SCROLL TO TOP -->
  <button class="scroll-top" id="scrollTop" onclick="window.scrollTo({ top: 0, behavior: 'smooth' })" aria-label="Kembali ke atas" title="Kembali ke atas">
    <svg width="18" height="18" fill="none" stroke="currentColor" stroke-width="2.5" viewBox="0 0 24 24"><path d="M18 15l-6-6-6 6"/></svg>
  </button>

  <!-- TOAST -->
  <div class="toast" id="toast" aria-live="assertive"></div>

  <script src="js/app.js"></script>
</body>
</html>
